(this["webpackJsonpwifi-tambayan-v2"]=this["webpackJsonpwifi-tambayan-v2"]||[]).push([[0],{29:function(e,t,a){},39:function(e,t,a){e.exports=a(59)},44:function(e,t,a){},45:function(e,t,a){},51:function(e,t,a){},56:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),i=a.n(c),l=(a(44),a(45),a(8)),s=a(23),o=a(2),u=a(15),m=a(9),d=a(13),p=[],E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SALES":return[].concat(Object(d.a)(e),[t.salesOrder]);case"REMOVE_SALES_ITEM":return e.filter((function(e){return e.id!==t.id}));case"EDIT_SALES_ITEM":return e.map((function(e){return e.id===t.id?Object(m.a)(Object(m.a)({},e),t.updates):e}));default:return e}},v=[],f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ITEM":return[].concat(Object(d.a)(e),[t.item]);case"REMOVE_ITEM":return e.filter((function(e){return e.id!==t.id}));case"EDIT_ITEM":return e.map((function(e){return e.id===t.id?Object(m.a)(Object(m.a)({},e),t.updates):e}));default:return e}},b=[],h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SALES_ORDER":return[].concat(Object(d.a)(e),[t.sales_order_payload]);case"REMOVE_SALES_ITEM":return e.filter((function(e){return e.id!==t.id}));case"EDIT_SALES_ITEM":return e.map((function(e){return e.id===t.id?Object(m.a)(Object(m.a)({},e),t.updates):e}));default:return e}},_=a(7),O=a.n(_),y=a(10),g=a(11),N=a(33),j=a(34),S=a(38),A=a(36),w=a(60),T=(a(29),function(e){Object(S.a)(a,e);var t=Object(A.a)(a);function a(e){var n;return Object(N.a)(this,a),(n=t.call(this,e)).handleRemove=function(e){n.props.dispatch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id;return{type:"REMOVE_SALES_ITEM",id:t}}({id:e}))},n.onChangeQty=function(e,t){var a=e.target.value,r=n.state.amount;a&&!a.match(/^\d{1,}(\.\d{0,2})?$/)||(r=n.state.price*a,n.setState((function(){return{qty:a,amount:r}})),setTimeout((function(){return n.props.dispatch(function(e,t){return{type:"EDIT_SALES_ITEM",id:e,updates:t}}(t,{qty:n.state.qty,amount:n.state.amount}))}),100))},n.state={id:e.id,itemName:e.itemName,qty:e.qty?e.qty:0,price:e.price,amount:e.price*e.qty,error:""},n}return Object(j.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"order"},r.a.createElement("div",{className:"order_item"},r.a.createElement("div",{className:"order_item_value"},this.state.itemName),r.a.createElement("div",{className:"order_item_value"},r.a.createElement("input",{type:"number",onChange:function(t){return e.onChangeQty(t,e.state.id)},value:this.state.qty})),r.a.createElement("div",{className:"order_item_value"},this.state.price,".00"),r.a.createElement("div",{className:"order_item_value"},this.state.amount,".00"),r.a.createElement("button",{className:"remove_btn",onClick:function(){return e.handleRemove(e.state.id)}},"X")))}}]),a}(n.Component)),I=Object(l.b)()(T);var x=Object(l.b)((function(e){return{cart:e.cart}}))((function(e){var t=Object(n.useState)(0),a=Object(g.a)(t,2),c=a[0],i=a[1],l=[];return Object(n.useEffect)((function(){function t(){return(t=Object(y.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.cart.map((function(e){return l.push(e.amount)})),t.abrupt("return",l);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function a(){return(a=Object(y.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0,t=l.reduce((function(e,t){return e+t}),0),i(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}(),function(){a.apply(this,arguments)}(),console.log(c)})),r.a.createElement("div",null,r.a.createElement("div",{className:"list_header"},r.a.createElement("span",{id:"header_text"},"SUMMARY")),r.a.createElement("div",{className:"list_container"},r.a.createElement("div",{className:"list_title"},r.a.createElement("div",null,"ITEM NAME"),r.a.createElement("div",null,"QTY"),r.a.createElement("div",null,"PRICE"),r.a.createElement("div",null,"AMOUNT"),r.a.createElement("div",null,"ACTION")),e.cart.map((function(e){return r.a.createElement(I,Object.assign({key:e.id},e))}))),r.a.createElement("div",{className:"list_footer"},r.a.createElement("div",{className:"total_btn_container"},r.a.createElement("button",{className:"total_btn"},r.a.createElement("span",{style:{fontSize:"20px"}},"TOTAL"),r.a.createElement("span",{style:{fontSize:"24px",fontWeight:"800"}},"Php ",c,".00"))),r.a.createElement("div",{className:"checkout_btn_container"},r.a.createElement("button",{onClick:function(){},className:"checkout_btn"},r.a.createElement("span",{style:{fontSize:"24px",fontWeight:"800"}},"PLACE ORDER")))))}));a(51);var D=Object(l.b)()((function(e){var t=function(){e.dispatch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.itemName,a=void 0===t?"":t,n=e.qty,r=void 0===n?0:n,c=e.price,i=void 0===c?0:c,l=e.amount,s=void 0===l?0:l,o=e.createdAt,u=void 0===o?0:o;return{type:"ADD_SALES",salesOrder:{id:Object(w.a)(),itemName:a,qty:r,price:i,amount:s,createdAt:u}}}(e.payload))};return r.a.createElement("div",{className:"item_container"},r.a.createElement("button",{className:"item_btn",onClick:function(){return t()}},e.itemName))})),k=a(35),M=a.n(k),C=(a(54),M.a.initializeApp({apiKey:"AIzaSyAjc77WOSJon1VpueebFjRUlvWJhZhOHls",authDomain:"wifi-tambayan-v2.firebaseapp.com",databaseURL:"https://wifi-tambayan-v2.firebaseio.com",projectId:"wifi-tambayan-v2",storageBucket:"wifi-tambayan-v2.appspot.com",messagingSenderId:"607023369213",appId:"1:607023369213:web:336f87a8970836a3032794"}));var L=function(){return r.a.createElement("div",{className:"nav_container"},r.a.createElement("div",{className:"nav_content"},r.a.createElement("h3",{id:"nav_name_logo"},"Wifi Tambayan"),r.a.createElement("button",{className:"btn_logout",onClick:function(){return C.auth().signOut()}},"Log out")))},R=Object(l.b)((function(e){return{items:e.items,cart:e.cart}}))((function(e){return r.a.createElement("div",null,r.a.createElement(L,null),r.a.createElement("div",{className:"sales_container"},r.a.createElement("div",{className:"product_item"},e.items.map((function(e,t){return r.a.createElement(D,{key:t,itemName:e.itemName,payload:e})}))),r.a.createElement("div",{className:"sales_list"},r.a.createElement(x,null))))})),q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.itemName,a=void 0===t?"":t,n=e.qty,r=void 0===n?0:n,c=e.price,i=void 0===c?0:c,l=e.createdAt,s=void 0===l?0:l;return{type:"ADD_ITEM",item:{id:Object(w.a)(),itemName:a,price:i,qty:r,createdAt:s}}},U=r.a.createContext(),P=function(e){var t=e.children,a=Object(n.useState)(null),c=Object(g.a)(a,2),i=c[0],l=c[1],s=Object(n.useState)(!0),o=Object(g.a)(s,2),u=o[0],m=o[1];return Object(n.useEffect)((function(){C.auth().onAuthStateChanged((function(e){l(e),m(!1)}))}),[]),u?r.a.createElement("div",{className:"loader"}):r.a.createElement(U.Provider,{value:{currentUser:i}},t)},V=(a(56),Object(o.g)((function(e){var t=e.history,a=Object(n.useState)(!1),c=Object(g.a)(a,2),i=c[0],l=(c[1],Object(n.useCallback)(function(){var e=Object(y.a)(O.a.mark((function e(a){var n,r,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n=a.target.elements,r=n.email,c=n.password,e.prev=2,e.next=5,C.auth().signInWithEmailAndPassword(r.value,c.value);case 5:t.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert("User not found");case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),[t]));return Object(n.useContext)(U).currentUser?r.a.createElement(o.a,{className:"loader",to:"/"}):i?r.a.createElement("div",{className:"loader"}):r.a.createElement("div",{className:"login_container"},r.a.createElement("h2",{style:{textAlign:"center",margin:0,marginTop:"30px"}},"Member Login"),r.a.createElement("p",{style:{textAlign:"center",margin:0}},"Sign in to continue"),r.a.createElement("form",{className:"login_form",onSubmit:l},r.a.createElement("input",{type:"email",name:"email",placeholder:"Email",required:!0}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",required:!0}),r.a.createElement("button",{className:"btn_login"},"LOGIN")),r.a.createElement("p",{id:"register_link"},"Not yet register? ",r.a.createElement("a",{href:"/sign-up"},"Register here")))}))),W=(a(58),Object(o.g)((function(e){var t=e.history,a=Object(n.useCallback)(function(){var e=Object(y.a)(O.a.mark((function e(a){var n,r,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n=a.target.elements,r=n.email,c=n.password,e.prev=2,e.next=5,C.auth().createUserWithEmailAndPassword(r.value,c.value);case 5:t.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),[t]);return r.a.createElement("div",{className:"create_container"},r.a.createElement("h2",{style:{textAlign:"center",margin:0,marginTop:"30px"}},"Create Account"),r.a.createElement("p",{style:{textAlign:"center",margin:0}},"Sign Up to continue"),r.a.createElement("form",{className:"create_form",onSubmit:a},r.a.createElement("input",{type:"email",name:"email",placeholder:"Email",required:!0}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",required:!0}),r.a.createElement("button",{className:"btn_create"},"Continue")))}))),z=a(37),X=function(e){var t=e.component,a=Object(z.a)(e,["component"]),c=Object(n.useContext)(U).currentUser;return r.a.createElement(o.b,Object.assign({},a,{render:function(e){return c?r.a.createElement(t,e):r.a.createElement(o.a,{className:"loader",to:"/login"})}}))},J=Object(u.c)(Object(u.b)({cart:E,items:f,sales_order:h}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());J.dispatch(q({itemName:"3hrs",price:30,createdAt:2e3})),J.dispatch(q({itemName:"2hrs",price:20,createdAt:2e3})),J.dispatch(q({itemName:"5hrs",price:50,createdAt:2e3}));var Q=function(){return r.a.createElement(l.a,{store:J},r.a.createElement(P,null,r.a.createElement(s.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(o.d,null,r.a.createElement(X,{exact:!0,path:"/",component:R}),r.a.createElement(o.b,{exact:!0,path:"/sign-up",component:W}),r.a.createElement(o.b,{exact:!0,path:"/login",component:V}))))))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Q,null)),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.0ad9a976.chunk.js.map